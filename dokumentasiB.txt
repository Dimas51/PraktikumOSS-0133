include"emu8086.inc"  

ORG 100H          

JMP START
INPUT DB"0000",0
JUMLAH DW 0
START:

PRINTN"MASUKAN 4 ANGKA BINER (NOL/SATU)"
PRINTN""
PRINTN""   

MOV DX,5
LEA DI, INPUT
CALL GET_STRING
MOV CX, 4
MOV SI, 0        

CEK_JUM_INPUT:
CMP INPUT[SI],0
JNE ERROR
JMP ERROR TIDAK VALID   

ERROR:
CMP INPUT[SI],31H
JNA PERULANGAN
JMP ERROR_TIDAK_VALID   

PERULANGAN:
INC SI
LOOP CEK_JUM_INPUT        

;MULAI KONVERSI
MOV BL,1
MOV SI,3
MOV CX,4          

ANGKA_SELANJUTNYA:
MOV AL,INPUT[SI]
SUB AL,30H
MUL BL 

ADD JUMLAH,AX
SHL BL,1
DEC SI
LOOP ANGKA_SELANJUTNYA

PRINTN"     "
PRINTN"HASILNYA :  " 
MOV AX,JUMLAH
CALL PRINTN_NUM_UNS
PRINTN ""
PRINTN ""
PRINTN " TERIMA KASIH"

JMP STOP_PROGRAM(JMP STOP PROGRAM)
ERROR_TIDAK_VALID:
PRINTN"ERROR INPUTAN TIDAK VALID"
STOP_PROGRAM:
RET

DEFINE_GET_STRING
DEFINE_PRINT_STRING
DEFINE_PRINT_NUM_UNS

END


